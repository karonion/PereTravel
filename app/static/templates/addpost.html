{% extends 'basic.html' %}
{% block title %}Додати маршрут{% endblock %}

{% block body %}

<div class="container">
  <main>
    <div class="py-5 text-center">
      <h2>Додати маршрут</h2>
      <p class="lead">Здесь могло бы быть описание на 1-2 строки</p>
    </div>
      <div class="col-md-7 col-lg-8">
        <form class="needs-validation" method="post" enctype="multipart/form-data">
          <div class="row g-3">
            <div class="col-sm-6">
              <label for="firstName" class="form-label">Имя</label>
              <input name="autorsname" type="text" class="form-control" id="firstName" placeholder="" value="" required="">
              <div class="invalid-feedback">
                Valid first name is required.
              </div>
            </div>
            <div class="col-12">
              <label for="email" class="form-label">Название машрута <span class="text-muted"></span></label>
              <input name="title"  class="form-control" id="email" placeholder="Вдоль скандинавии">
              <div class="invalid-feedback">
                Please enter a valid email address for shipping updates.
              </div>
            </div>

            <div class="col-12">
              <label for="address" class="form-label">Страна маршрута</label>
              <input name="preview" type="text" class="form-control" id="address" placeholder="Дания" required="">
              <div class="invalid-feedback">
                Please enter your shipping address.
              </div>
            </div>
             <div class="col-12">
               <label class="form-label">Текст</label>
               <textarea name="text" class="form-control" id="text" placeholder="" required="" style="height:300px"> </textarea>
             </div>
            <div class="input__wrapper">
              <input type=file name=filepath id="input__file" class="input input__file" multiple>
               <label for="input__file" class="input__file-button">
                 <svg xmlns="http://www.w3.org/2000/svg" style="margin-left:35px" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                   <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                  </svg>
                  <span class="input__file-icon-wrapper"><img class="input__file-icon" src="" alt="" width="25"></span>
                  <span class="input__file-button-text">Загрузите фото</span>
               </label>
            </div>

          <button class="w-100 btn btn-primary btn-lg" type="submit">Отправить на модерацию</button>

            </div>
        </form>
      </div>
  </main>
</div>
<script>
let inputs = document.querySelectorAll('.input__file');
    Array.prototype.forEach.call(inputs, function (input) {
      let label = input.nextElementSibling,
        labelVal = label.querySelector('.input__file-button-text').innerText;

      input.addEventListener('change', function (e) {
        let countFiles = '';
        if (this.files && this.files.length >= 1)
          countFiles = this.files.length;

        if (countFiles)
          label.querySelector('.input__file-button-text').innerText = 'Выбрано файлов: ' + countFiles;
        else
          label.querySelector('.input__file-button-text').innerText = labelVal;
      });
    });
</script>

{% endblock %}

